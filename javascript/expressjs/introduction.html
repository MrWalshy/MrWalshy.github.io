
<h1>What is the ExpressJS framework?</h1>
<p>Express is a small, unopinionated framework for handling web functionality in Node.js applications. One of the main reasons to use the Express framework is the abstractions it offers in terms of built-in functionality...</p>
<p>In a pure Node.js app using the http module, a web application will require a web server to be manually built, including the ability to route requests to different URLs with different request methods, and potentially parameters or bodies of data. This is a rather cumbersome process that has been done many times before, instead of reinventing the wheel we can use Express to provide this core functionality.</p>
<hr>
<h2>Creating a simple Express app</h2>
<p>To create an Express app, first initialise an npm project and then run <code>npm i express</code> in the project root.</p>
<p>Then, inside your index.js file (or other file if main is set differently), type the following:</p>
<pre><code class="language-js">const express = require('express');

const port = 3000;
const app = express();

app.get('/', (req, res) => {
    res.send('Hello world');
});

const server = app.listen(port, () => {
    console.log(`Server up on ${server.address().address}:${port}`);
});
</code></pre>
<ul>
  <li>The first line imports the <code>express</code> module.</li>
  <li>Line 3 creates a variable for the port number whilst line 4 creates an instance of <code>Express</code> using the <code>express()</code> top-level function.</li>
  <li>Line 6 uses the <code>get()</code> method to register a HTTP GET route to the URL path <code>'/'</code>, it takes a callback as the second parameter that accepts the request and response objects used in the node.js http module.</li>
  <li>Line 7 is the response to send when a request is sent to <code>http://localhost:3000/</code></li>
  <li>Line 10 then tells the express application to start listening for requests on the specified port (random if omitted), the supplied callback to <code>app.listen()</code> runs when the server has started. <code>app.listen()</code> returns an instance of <code>http.Server</code></li>
</ul>
<p>It is important to note that if a method that accepts a request does not terminate the request-response cycle through the use of a method like <code>res.send()</code>, the cycle hangs...</p>
<h2>Apply the morgan logging middleware</h2>
<p>The <code>morgan</code> logger can be passed as middleware to Express for logging the requests automatically. Add the dependency to your project with <code>npm i morgan</code> and then do the following to add it as middleware to your express app:</p>
<pre><code class="language-js">const express = require('express');
const morgan = require('morgan');

const port = 3000;
const app = express();

app.use(morgan('dev'));

app.get('/', (req, res) => {
    res.send('Hello world');
});

const server = app.listen(port, () => {
    console.log(`Server up on ${server.address().address}:${port}`);
});
</code></pre>
<p>The most important lines are lines 2 and 7:</p>
<ul>
  <li>Line 2 imports the <code>morgan</code> module</li>
  <li>Line 7 specifies the <code>morgan()</code> function to pass a logger as middleware to the <code>use()</code> method of the Express instance</li>
</ul>
